
<div  id='write'  class = 'is-node'><h1><a name='header-c1' class='md-header-anchor '></a>å¯¹React children çš„æ·±å…¥ç†è§£ï¼ˆè¯‘ï¼‰</h1><p><a href='http://mxstbr.blog/2017/02/react-children-deepdive/#child-components'>åŸæ–‡é“¾æ¥</a></p><p>Reactçš„æ ¸å¿ƒä¸ºç»„ä»¶ã€‚ä½ å¯ä»¥åƒåµŒå¥—HTMLæ ‡ç­¾ä¸€æ ·åµŒå¥—ä½¿ç”¨è¿™äº›ç»„ä»¶ï¼Œè¿™ä½¿å¾—ç¼–å†™JSXæ›´åŠ å®¹æ˜“å› ä¸ºå®ƒç±»ä¼¼äºæ ‡è®°è¯­è¨€ã€‚</p><p>å½“æˆ‘åˆšå¼€å§‹å­¦ä¹ Reactæ—¶ï¼Œå½“æ—¶æˆ‘è®¤ä¸ºâ€œä½¿ç”¨ <code>props.children</code> å°±è¿™ä¹ˆå›äº‹ï¼Œæˆ‘çŸ¥é“å®ƒçš„ä¸€åˆ‡â€ã€‚æˆ‘é”™äº†ã€‚ã€‚</p><p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„äº‹JavaScriptï¼Œæˆ‘ä»¬ä¼šæ”¹å˜childrenã€‚æˆ‘ä»¬èƒ½å¤Ÿç»™å®ƒä»¬å‘é€ç‰¹æ®Šçš„å±æ€§ï¼Œä»¥æ­¤æ¥å†³å®šå®ƒä»¬æ˜¯å¦è¿›è¡Œæ¸²æŸ“ã€‚è®©æˆ‘ä»¬æ¥æ¢ç©¶ä¸€ä¸‹Reactä¸­childrençš„ä½œç”¨ã€‚</p><h2><a name='header-c15' class='md-header-anchor '></a>å­ç»„ä»¶</h2><p>æˆ‘ä»¬æœ‰ä¸€ä¸ªç»„ä»¶ <code>&lt;Grid /&gt;</code> åŒ…å«äº†å‡ ä¸ªç»„ä»¶ <code>&lt;Row /&gt;</code> ã€‚ä½ å¯èƒ½ä¼šè¿™ä¹ˆä½¿ç”¨å®ƒï¼š</p><pre class='md-fences mock-cm' style='display:block;position:relative'>&lt;Grid&gt;
  &lt;Row /&gt;
  &lt;Row /&gt;
  &lt;Row /&gt;
&lt;/Grid&gt;</pre><p>è¿™ä¸‰ä¸ª <code>Row</code> ç»„ä»¶éƒ½æˆä¸ºäº† <code>Grid</code> çš„ <code>props.children</code> ã€‚ä½¿ç”¨ä¸€ä¸ªè¡¨è¾¾å¼å®¹å™¨ï¼Œçˆ¶ç»„ä»¶å°±èƒ½å¤Ÿæ¸²æŸ“å®ƒä»¬çš„å­ç»„ä»¶ï¼š</p><pre class='md-fences mock-cm' style='display:block;position:relative'>class Grid extends React.Component {
  render() {
    return &lt;div&gt;{this.props.children}&lt;/div&gt;
  }
}</pre><p>çˆ¶ç»„ä»¶ä¹Ÿèƒ½å¤Ÿå†³å®šä¸æ¸²æŸ“ä»»ä½•çš„å­ç»„ä»¶æˆ–è€…åœ¨æ¸²æŸ“ä¹‹å‰å¯¹å®ƒä»¬è¿›è¡Œæ“ä½œã€‚ä¾‹å¦‚ï¼Œè¿™ä¸ª <code>&lt;Fullstop /&gt;</code> ç»„ä»¶å°±æ²¡æœ‰æ¸²æŸ“å®ƒçš„å­ç»„ä»¶ï¼š</p><pre class='md-fences mock-cm' style='display:block;position:relative'>class Fullstop extends React.Component {
  render() {
    return &lt;h1&gt;Hello world!&lt;/h1&gt;
  }
}</pre><p>ä¸ç®¡ä½ å°†ä»€ä¹ˆå­ç»„ä»¶ä¼ é€’ç»™è¿™ä¸ªç»„ä»¶ï¼Œå®ƒéƒ½åªä¼šæ˜¾ç¤ºâ€œHello world!â€</p><h2><a name='header-c27' class='md-header-anchor '></a>ä»»ä½•ä¸œè¥¿éƒ½èƒ½æ˜¯ä¸€ä¸ªchild</h2><p>Reactä¸­çš„Childrenä¸ä¸€å®šæ˜¯ç»„ä»¶ï¼Œå®ƒä»¬å¯ä»¥ä½¿ä»»ä½•ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå°†ä¸Šé¢çš„æ–‡å­—ä½œä¸ºchildrenä¼ é€’æˆ‘ä»¬çš„ <code>&lt;Grid /&gt;</code> ç»„ä»¶ã€‚</p><pre class='md-fences mock-cm' style='display:block;position:relative'>&lt;Grid&gt;Hello world!&lt;/Grid&gt;</pre><p>JSXå°†ä¼šè‡ªåŠ¨åˆ é™¤æ¯è¡Œå¼€å¤´å’Œç»“å°¾çš„ç©ºæ ¼ï¼Œä»¥åŠç©ºè¡Œã€‚å®ƒè¿˜ä¼šæŠŠå­—ç¬¦ä¸²ä¸­é—´çš„ç©ºç™½è¡Œå‹ç¼©ä¸ºä¸€ä¸ªç©ºæ ¼ã€‚</p><p>è¿™æ„å‘³ç€ä»¥ä¸‹çš„è¿™äº›ä¾‹å­éƒ½ä¼šæ¸²æŸ“å‡ºä¸€æ ·çš„æƒ…å†µï¼š</p><pre class='md-fences mock-cm' style='display:block;position:relative'>&lt;Grid&gt;Hello world!&lt;/Grid&gt;

&lt;Grid&gt;
  Hello world!
&lt;/Grid&gt;

&lt;Grid&gt;
  Hello
  world!
&lt;/Grid&gt;

&lt;Grid&gt;

  Hello world!
&lt;/Grid&gt;</pre><p>ä½ ä¹Ÿå¯ä»¥å°†å¤šç§ç±»å‹çš„childrenå®Œç¾çš„ç»“åˆåœ¨ä¸€èµ·ï¼š</p><pre class='md-fences mock-cm' style='display:block;position:relative'>&lt;Grid&gt;
  Here is a row:
  &lt;Row /&gt;
  Here is another row:
  &lt;Row /&gt;
&lt;/Grid&gt;</pre><h2><a name='header-c39' class='md-header-anchor '></a>child çš„åŠŸèƒ½</h2><p>æˆ‘ä»¬èƒ½å¤Ÿä¼ é€’ä»»ä½•çš„JavaScriptè¡¨è¾¾å¼ä½œä¸ºchildrenï¼ŒåŒ…æ‹¬å‡½æ•°ã€‚</p><p>ä¸ºäº†è¯´æ˜è¿™ç§æƒ…å†µï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒå°†æ‰§è¡Œä¸€ä¸ªä¼ é€’è¿‡æ¥çš„ä½œä¸ºchildçš„å‡½æ•°ï¼š</p><pre class='md-fences mock-cm' style='display:block;position:relative'>class Executioner extends React.Component {
  render() {
    // See how we&#39;re calling the child as a function?
    //                        â†“
    return this.props.children()
  }
}</pre><p>ä½ ä¼šåƒè¿™æ ·çš„ä½¿ç”¨è¿™ä¸ªç»„ä»¶</p><pre class='md-fences mock-cm' style='display:block;position:relative'>&lt;Executioner&gt;
  {() =&gt; &lt;h1&gt;Hello World!&lt;/h1&gt;}
&lt;/Executioner&gt;</pre><p>å½“ç„¶ï¼Œè¿™ä¸ªä¾‹å­å¹¶æ²¡ä»€ä¹ˆç”¨ï¼Œåªæ˜¯å±•ç¤ºäº†è¿™ä¸ªæƒ³æ³•ã€‚</p><p>å‡è®¾ä½ æƒ³ä»æœåŠ¡å™¨è·å–ä¸€äº›æ•°æ®ã€‚ä½ èƒ½ä½¿ç”¨å¤šç§æ–¹æ³•å®ç°ï¼Œåƒè¿™ç§å°†å‡½æ•°ä½œä¸ºchildçš„æ–¹æ³•ä¹Ÿæ˜¯å¯è¡Œçš„ã€‚</p><pre class='md-fences mock-cm' style='display:block;position:relative'>&lt;Fetch url=&quot;api.myself.com&quot;&gt;
  {(result) =&gt; &lt;p&gt;{result}&lt;/p&gt;}
&lt;/Fetch&gt;</pre><p>ä¸è¦æ‹…å¿ƒè¿™äº›è¶…å‡ºäº†ä½ çš„è„‘å®¹é‡ã€‚æˆ‘æƒ³è¦çš„æ˜¯å½“ä½ ä»¥åé‡åˆ°è¿™ç§æƒ…å†µæ—¶ä¸å†æƒŠè®¶ã€‚æœ‰äº†childrenä»€ä¹ˆäº‹éƒ½ä¼šå‘ç”Ÿã€‚</p><h2><a name='header-c55' class='md-header-anchor '></a>æ“ä½œchildren</h2><p>å¦‚æœä½ çœ‹è¿‡Reactçš„æ–‡æ¡£ä½ å°±ä¼šè¯´â€œchildrenæ˜¯ä¸€ä¸ªä¸é€æ˜çš„æ•°æ®ç»“æ„â€ã€‚ä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œ <code>props.children</code> å¯ä»¥ä½¿ä»»ä½•çš„ç±»å‹ï¼Œæ¯”å¦‚æ•°ç»„ã€å‡½æ•°ã€å¯¹è±¡ç­‰ç­‰ã€‚</p><p>Reactæä¾›äº†ä¸€ç³»åˆ—çš„å‡½æ•°åŠ©æ‰‹æ¥ä½¿å¾—æ“ä½œchildrenæ›´åŠ æ–¹ä¾¿ã€‚</p><h3><a name='header-c60' class='md-header-anchor '></a>å¾ªç¯</h3><p>ä¸¤ä¸ªæœ€æ˜¾çœ¼çš„å‡½æ•°åŠ©æ‰‹å°±æ˜¯ <code>React.Children.map</code> ä»¥åŠ <code>React.Children.forEach</code> ã€‚å®ƒä»¬åœ¨å¯¹åº”æ•°ç»„çš„æƒ…å†µä¸‹èƒ½èµ·ä½œç”¨ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå½“å‡½æ•°ã€å¯¹è±¡æˆ–è€…ä»»ä½•ä¸œè¥¿ä½œä¸ºchildrenä¼ é€’æ—¶ï¼Œå®ƒä»¬ä¹Ÿä¼šèµ·ä½œç”¨ã€‚</p><pre class='md-fences mock-cm' style='display:block;position:relative'>class IgnoreFirstChild extends React.Component {
  render() {
    const children = this.props.children
    return (
      &lt;div&gt;
        {React.Children.map(children, (child, i) =&gt; {
          // Ignore the first child
          if (i &lt; 1) return
          return child
        })}
      &lt;/div&gt;
    )
  }
}</pre><p><code>&lt;IgnoreFirstChild /&gt;</code> ç»„ä»¶åœ¨è¿™é‡Œä¼šéå†æ‰€æœ‰çš„childrenï¼Œå¿½ç•¥ç¬¬ä¸€ä¸ªchildç„¶åè¿”å›å…¶ä»–çš„ã€‚</p><pre class='md-fences mock-cm' style='display:block;position:relative'>&lt;IgnoreFirstChild&gt;
  &lt;h1&gt;First&lt;/h1&gt;
  &lt;h1&gt;Second&lt;/h1&gt; // &lt;- Only this is rendered
&lt;/IgnoreFirstChild&gt;</pre><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>this.props.children.map</code> çš„æ–¹æ³•ã€‚ä½†è¦æ˜¯æœ‰äººè®²ä¸€ä¸ªå‡½æ•°ä½œä¸ºchildä¼ é€’è¿‡æ¥å°†ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ<code>this.props.children</code> ä¼šæ˜¯ä¸€ä¸ªå‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¥ç€æˆ‘ä»¬å°±ä¼šäº§ç”Ÿä¸€ä¸ªerrorï¼</p><p><img src='http://mxstbr.blog/img/react-children-error.png' alt='err' /></p><p>ç„¶è€Œä½¿ç”¨ <code>React.Children.map</code> å‡½æ•°ï¼Œæ— è®ºä»€ä¹ˆéƒ½ä¸ä¼šæŠ¥é”™ã€‚</p><pre class='md-fences mock-cm' style='display:block;position:relative'>&lt;IgnoreFirstChild&gt;
  {() =&gt; &lt;h1&gt;First&lt;/h1&gt;} // &lt;- Ignored ğŸ’ª
&lt;/IgnoreFirstChild&gt;</pre><h3><a name='header-c74' class='md-header-anchor '></a>è®¡æ•°</h3><p>å› ä¸º<code>this.props.children</code> å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„ï¼Œæ£€æŸ¥ä¸€ä¸ªç»„ä»¶æœ‰å¤šå°‘ä¸ªchildrenæ˜¯éå¸¸å›°éš¾çš„ã€‚å¤©çœŸçš„ä½¿ç”¨ <code>this.props.children.length</code> ï¼Œå½“ä¼ é€’äº†å­—ç¬¦ä¸²æˆ–è€…å‡½æ•°æ—¶ç¨‹åºä¾¿ä¼šä¸­æ–­ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸ªchildï¼š<code>&quot;Hello World!&quot;</code> ï¼Œä½†æ˜¯ä½¿ç”¨ <code>.length</code> çš„æ–¹æ³•å°†ä¼šæ˜¾ç¤ºä¸º12ã€‚</p><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æœ‰ <code>React.Children.count</code> æ–¹æ³•çš„åŸå› </p><pre class='md-fences mock-cm' style='display:block;position:relative'>class ChildrenCounter extends React.Component {
  render() {
    return &lt;p&gt;React.Children.count(this.props.children)&lt;/p&gt;
  }
}</pre><p>æ— è®ºæ—¶ä»€ä¹ˆç±»å‹å®ƒéƒ½ä¼šè¿”å›childrençš„æ•°é‡</p><pre class='md-fences mock-cm' style='display:block;position:relative'>// Renders &quot;1&quot;
&lt;ChildrenCounter&gt;
  Second!
&lt;/ChildrenCounter&gt;

// Renders &quot;2&quot;
&lt;ChildrenCounter&gt;
  &lt;p&gt;First&lt;/p&gt;
  &lt;ChildComponent /&gt;
&lt;/ChildrenCounter&gt;

// Renders &quot;3&quot;
&lt;ChildrenCounter&gt;
  {() =&gt; &lt;h1&gt;First!&lt;/h1&gt;}
  Second!
  &lt;p&gt;Third!&lt;/p&gt;
&lt;/ChildrenCounter&gt;</pre><h3><a name='header-c83' class='md-header-anchor '></a>è½¬æ¢ä¸ºæ•°ç»„</h3><p>å¦‚æœä»¥ä¸Šçš„æ–¹æ³•ä½ éƒ½ä¸é€‚åˆï¼Œä½ èƒ½å°†childrenè½¬æ¢ä¸ºæ•°ç»„é€šè¿‡ <code>React.Children.toArray</code> æ–¹æ³•ã€‚å¦‚æœä½ éœ€è¦å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p><pre class='md-fences mock-cm' style='display:block;position:relative'>class Sort extends React.Component {
  render() {
    const children = React.Children.toArray(this.props.children)
    // Sort and render the children
    return &lt;p&gt;{children.sort().join(&#39; &#39;)}&lt;/p&gt;
  }
}</pre><pre class='md-fences mock-cm' style='display:block;position:relative'>&lt;Sort&gt;
  // We use expression containers to make sure our strings
  // are passed as three children, not as one string
  {&#39;bananas&#39;}{&#39;oranges&#39;}{&#39;apples&#39;}
&lt;/Sort&gt;</pre><p>ä¸Šä¾‹ä¼šæ¸²æŸ“ä¸ºä¸‰ä¸ªæ’å¥½åºçš„å­—ç¬¦ä¸²ã€‚</p><p><img src='http://mxstbr.blog/img/react-children-apples-bananas-oranges.png' alt='sort' /></p><h3><a name='header-c92' class='md-header-anchor '></a>æ‰§è¡Œå•ä¸€child</h3><p>å¦‚æœä½ å›è¿‡æ¥æƒ³åˆšæ‰çš„ <code>&lt;Executioner /&gt;</code> ç»„ä»¶ï¼Œå®ƒåªèƒ½åœ¨ä¼ é€’å•ä¸€childçš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œè€Œä¸”childå¿…é¡»ä¸ºå‡½æ•°ã€‚</p><pre class='md-fences mock-cm' style='display:block;position:relative'>class Executioner extends React.Component {
  render() {
    return this.props.children()
  }
}</pre><p>æˆ‘ä»¬å¯ä»¥è¯•ç€å»å¼ºåˆ¶æ‰§è¡Œ <code>propTypes</code> ï¼Œå°±åƒä¸‹é¢è¿™æ ·</p><pre class='md-fences mock-cm' style='display:block;position:relative'>Executioner.propTypes = {
  children: React.PropTypes.func.isRequired,
}</pre><p>è¿™ä¼šä½¿æ§åˆ¶å°æ‰“å°å‡ºä¸€æ¡æ¶ˆæ¯ï¼Œéƒ¨åˆ†çš„å¼€å‘è€…å°†ä¼šæŠŠå®ƒå¿½è§†ã€‚ç›¸åçš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åœ¨ <code>render</code> é‡Œé¢ä½¿ç”¨ <code>React.Children.only</code> </p><pre class='md-fences mock-cm' style='display:block;position:relative'>class Executioner extends React.Component {
  render() {
    return React.Children.only(this.props.children)()
  }
}</pre><p>è¿™æ ·åªä¼šè¿”å›ä¸€ä¸ªchildã€‚å¦‚æœä¸æ­¢ä¸€ä¸ªchildï¼Œå®ƒå°±ä¼šæŠ›å‡ºé”™è¯¯ï¼Œè®©æ•´ä¸ªç¨‹åºé™·å…¥ä¸­æ–­â€”â€”å®Œç¾çš„é¿å¼€äº†è¯•å›¾ç ´åç»„ä»¶çš„æ‡’æƒ°çš„å¼€å‘è€…ã€‚</p><h2><a name='header-c104' class='md-header-anchor '></a>ç¼–è¾‘children</h2><p>æˆ‘ä»¬å¯ä»¥å°†ä»»æ„çš„ç»„ä»¶å‘ˆç°ä¸ºchildrenï¼Œä½†æ˜¯ä»»ç„¶å¯ä»¥ç”¨çˆ¶ç»„ä»¶å»æ§åˆ¶å®ƒä»¬ï¼Œè€Œä¸æ˜¯ç”¨æ¸²æŸ“çš„ç»„ä»¶ã€‚ä¸ºäº†è¯´æ˜è¿™ç‚¹ï¼Œè®©æˆ‘ä»¬ä¸¾ä¾‹ä¸€ä¸ª èƒ½å¤Ÿæ‹¥æœ‰å¾ˆå¤š <code>RadioButton</code> ç»„ä»¶çš„ <code>RadiaGroup</code> ç»„ä»¶ã€‚</p><p><code>RadioButtons</code> ä¸ä¼šä» <code>RadioGroup</code> æœ¬èº«ä¸Šè¿›è¡Œæ¸²æŸ“ï¼Œå®ƒä»¬åªæ˜¯ä½œä¸ºchildrenä½¿ç”¨ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å°†ä¼šæœ‰è¿™æ ·çš„ä»£ç ã€‚</p><pre class='md-fences mock-cm' style='display:block;position:relative'>render() {
  return(
    &lt;RadioGroup&gt;
      &lt;RadioButton value=&quot;first&quot;&gt;First&lt;/RadioButton&gt;
      &lt;RadioButton value=&quot;second&quot;&gt;Second&lt;/RadioButton&gt;
      &lt;RadioButton value=&quot;third&quot;&gt;Third&lt;/RadioButton&gt;
    &lt;/RadioGroup&gt;
  )
}</pre><p>è¿™æ®µä»£ç æœ‰ä¸€ä¸ªé—®é¢˜ã€‚<code>input</code> æ²¡æœ‰è¢«åˆ†ç»„ï¼Œå¯¼è‡´äº†è¿™æ ·ï¼š</p><p><img src='http://mxstbr.blog/img/react-children-radio-bug.png' alt='' /></p><p>ä¸ºäº†æŠŠ <code>input</code> æ ‡ç­¾å¼„åˆ°åŒç»„ï¼Œå¿…é¡»æ‹¥æœ‰ç›¸åŒçš„<code>name</code> å±æ€§ã€‚å½“ç„¶æˆ‘ä»¬å¯ä»¥ç›´æ¥ç»™æ¯ä¸ª<code>RadioButton</code> çš„<code>name</code> èµ‹å€¼</p><pre class='md-fences mock-cm' style='display:block;position:relative'>&lt;RadioGroup&gt;
  &lt;RadioButton name=&quot;g1&quot; value=&quot;first&quot;&gt;First&lt;/RadioButton&gt;
  &lt;RadioButton name=&quot;g1&quot; value=&quot;second&quot;&gt;Second&lt;/RadioButton&gt;
  &lt;RadioButton name=&quot;g1&quot; value=&quot;third&quot;&gt;Third&lt;/RadioButton&gt;
&lt;/RadioGroup&gt;</pre><p>ä½†æ˜¯è¿™ä¸ªæ˜¯æ— èŠçš„å¹¶ä¸”å®¹æ˜“å‡ºé”™ã€‚æˆ‘ä»¬å¯æ˜¯æ‹¥æœ‰JavaScriptçš„æ‰€æœ‰åŠŸèƒ½çš„ï¼</p><h3><a name='header-c119' class='md-header-anchor '></a>æ”¹å˜childrençš„å±æ€§</h3><p>åœ¨<code>RadioGroup</code> ä¸­æˆ‘ä»¬å°†ä¼šæ·»åŠ ä¸€ä¸ªå«åš <code>renderChildren</code> çš„æ–¹æ³•ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ç¼–è¾‘childrençš„å±æ€§</p><pre class='md-fences mock-cm' style='display:block;position:relative'>class RadioGroup extends React.Component {
  constructor() {
    super()
    // Bind the method to the component context
    this.renderChildren = this.renderChildren.bind(this)
  }

  renderChildren() {
    // TODO: Change the name prop of all children
    // to this.props.name
    return this.props.children
  }

  render() {
    return (
      &lt;div className=&quot;group&quot;&gt;
        {this.renderChildren()}
      &lt;/div&gt;
    )
  }
}</pre><p>è®©æˆ‘ä»¬å¼€å§‹éå†childrenè·å¾—æ¯ä¸ªchild</p><pre class='md-fences mock-cm' style='display:block;position:relative'>renderChildren() {
  return React.Children.map(this.props.children, child =&gt; {
    // TODO: Change the name prop to this.props.name
    return child
  })
}</pre><p>æˆ‘ä»¬å¦‚ä½•ç¼–è¾‘å®ƒä»¬çš„å±æ€§å‘¢ï¼Ÿ</p><h3><a name='header-c128' class='md-header-anchor '></a>æ°¸æ’åœ°å…‹éš†å…ƒç´ </h3><p>è¿™æ˜¯ä»Šå¤©å±•ç¤ºçš„æœ€åä¸€ä¸ªè¾…åŠ©æ–¹æ³•ã€‚é¡¾åæ€ä¹‰ï¼Œ<code>React.cloneElement</code> ä¼šå…‹éš†ä¸€ä¸ªå…ƒç´ ã€‚æˆ‘ä»¬å°†æƒ³è¦å…‹éš†çš„å…ƒç´ å½“ä½œç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç„¶åå°†æƒ³è¦è®¾ç½®çš„å±æ€§ä»¥å¯¹è±¡çš„æ–¹å¼ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚</p><pre class='md-fences mock-cm' style='display:block;position:relative'>const cloned = React.cloneElement(element, {
  new: &#39;yes!&#39;
})</pre><p>ç°åœ¨ï¼Œ<code>clone</code> å…ƒç´ æœ‰äº†è®¾ç½®ä¸º <code>&quot;yes!&quot;</code> çš„å±æ€§ <code>new</code> </p><p>è¿™æ­£æ˜¯æˆ‘ä»¬çš„ <code>RadioGroup</code> æ‰€éœ€çš„ã€‚æˆ‘ä»¬å…‹éš†æ‰€æœ‰çš„childå¹¶ä¸”è®¾ç½®<code>name</code> å±æ€§</p><pre class='md-fences mock-cm' style='display:block;position:relative'>renderChildren() {
  return React.Children.map(this.props.children, child =&gt; {
    return React.cloneElement(child, {
      name: this.props.name
    })
  })
}</pre><p>æœ€åä¸€æ­¥å°±æ˜¯ä¼ é€’ä¸€ä¸ªå”¯ä¸€çš„ <code>name</code> ç»™<code>RadioGroup</code> </p><pre class='md-fences mock-cm' style='display:block;position:relative'>&lt;RadioGroup name=&quot;g1&quot;&gt;
  &lt;RadioButton value=&quot;first&quot;&gt;First&lt;/RadioButton&gt;
  &lt;RadioButton value=&quot;second&quot;&gt;Second&lt;/RadioButton&gt;
  &lt;RadioButton value=&quot;third&quot;&gt;Third&lt;/RadioButton&gt;
&lt;/RadioGroup&gt;</pre><p><img src='http://mxstbr.blog/img/react-children-radio-done.png' alt='' /></p><p>æ²¡æœ‰æ‰‹åŠ¨æ·»åŠ  <code>name</code> å±æ€§ç»™æ‰€æœ‰çš„ <code>RadioButton</code> ï¼Œæˆ‘ä»¬åªæ˜¯å‘Šè¯‰äº† <code>RadioGroup</code> æ‰€éœ€çš„nameè€Œå·²ã€‚</p><h2><a name='header-c144' class='md-header-anchor '></a>æ€»ç»“</h2><p>Childrenä½¿Reactç»„ä»¶æ›´åƒæ˜¯æ ‡è®°è€Œä¸æ˜¯ è„±èŠ‚çš„å®ä½“ã€‚é€šè¿‡å¼ºå¤§çš„JavaScriptå’Œä¸€äº›Reactå¸®åŠ©å‡½æ•°ä½¿æˆ‘ä»¬çš„ç”Ÿæ´»æ›´åŠ ç®€å•ã€‚</p></div>
